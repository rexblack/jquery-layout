!function(a){var b=({animate:a.fn.animate,stop:a.fn.stop,finish:a.fn.finish},function(b,c,d,e){function f(c){var d={props:b,opts:g,meta:{depends:[]}};return a.each(l,function(b,e){var f=e.get(c);f&&(a.extend(d.props,f.props),a.extend(d.opts,f.opts),a.extend(d.meta,f.meta))}),d}var g=(jQuery.isEmptyObject(b),jQuery.speed(c,d,e)),h=g.complete,i=this,j=[],k=[],l=arguments.callee.collectionPrefilters?a.map(arguments.callee.collectionPrefilters,function(a){return a.call(i,b,g)}):[];1==g.queueAll&&(g.complete=function(){var b=arguments;j.push(this);var c=i.toArray();a.each(i,function(a,b){var d=f(b).meta.depends;c.push.apply(c,d)}),c=a.unique(c),j.length==i.length&&(a.each(i,function(a,c){h.apply(c,b)}),console.log("queue: ",a(this).queue()))});var m=function(){var b=this,c=f(b),d=a(c.meta.depends).filter(function(){return a.inArray(this,i)<0&&a.inArray(this,k)<0});d.length>0&&(g.queue===!1?d.each(m):d.queue(g.queue,m));var e=jQuery.Animation(this,jQuery.extend({},c.props),a.extend({},g));a.isEmptyObject(c.props)&&e.stop(!0),k.push(e)};return m.finish=m,g.queue===!1?this.each(m):this.queue(g.queue,m)});b.collectionPrefilters=[],jQuery.fn.extend({animate:b,transmate:b})}(jQuery,window);